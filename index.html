<textarea id="typed_text" placeholder="Start typing..."></textarea>
<input type="hidden" id="prompt" value="{{ prompt }}" />
<button type="submit">Submit</button>

<div id="results"></div>

<script>
  let startTime;

  document.getElementById("typed_text").addEventListener("focus", function () {
    startTime = new Date().getTime() / 1000;
  });

  document.querySelector("button").addEventListener("click", function (event) {
    event.preventDefault();

    const typedText = document.getElementById("typed_text").value;
    const prompt = document.getElementById("prompt").value;

    fetch("/submit_test", {
      method: "POST",
      body: JSON.stringify({
        typed_text: typedText,
        prompt: prompt,
        start_time: startTime,
      }),
      headers: {
        "Content-Type": "application/json",
      },
    })
      .then((response) => response.json())
      .then((data) => {
        document.getElementById(
          "results"
        ).innerHTML = `WPM: ${data.wpm}<br>Accuracy: ${data.accuracy}%`;
      });
  });
</script>

<link rel="stylesheet" href="path/to/your/styles.css" />
<div class="typing-test-container">
  <p class="prompt-text">Your prompt text here.</p>
  <textarea class="user-input" placeholder="Start typing here..."></textarea>
  <button class="submit-button">Submit</button>
  <div class="results"></div>
</div>
